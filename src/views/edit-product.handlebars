 <h1 class="title-home">Proyecto Ecommerce CoderHouse</h1>

 <div class="btnPerfil">
    {{#if user.firstName}}
     <p class=""  ><a class="btn" href="/auth/perfil"> Hola {{user.firstName}} </a> <a class="logout" href="/auth/logout">Cerrar sesion</a> </p>
    {{else}}
    <p class=""  >
        <a class="btn" href="/auth/login"> Iniciar Sesion </a> 
    </p>
    {{/if}}
    <a class="btn" href="/products"> Inicio</a> 
    {{#if vfyUoA}}
        <a class="btn" href="/creatProduct"> Crear Productos</a> 
        <a class="btn" href="/myProducts"> Ver Mis Products</a> 
    {{/if}}
    <a href="" onclick='viewCart("{{user.cart}}") '  id="view-cart"><i class="bi bi-cart"></i>
    <span id="carritoCantidad"></span>
    </a>
 </div>
    <h1 class="refresh-title">Editar Producto</h1>
 <section class="formulario">
    <form id="updateProductForm" enctype="multipart/form-data">
        <input type="hidden" id="productId" name="productId" value="{{id}}">

        <label for="title">Título:</label>
        <input type="text" id="title" name="title" value="{{product.title}}" required><br>

        <label for="price">Precio:</label>
        <input type="number" id="price" name="price" value="{{product.price}}" required><br>

        <label for="description">Descripción:</label>
        <textarea id="description" name="description" value="" required>{{product.description}}</textarea><br>

        <label for="code">Código:</label>
        <input type="text" id="code" name="code" value="{{product.code}}"  required><br>

        <label for="thumbnail">Thumbnail:</label>
        <input type="file" id="thumbnail" name="thumbnail" accept="image/*" required><br>

        <label for="category">Categoría:</label>
        <select id="category" name="category" required>
            <option value="audio">Audio</option>
            <option value="computadora">Computadora</option>
            <option value="componentes">Componentes</option>
            <option value="telefono">Telefono</option>
        </select><br>

        <label for="stock">Stock:</label>
        <input type="number" id="stock" name="stock" value="{{product.stock}}"  required><br>

        <input type="submit" value="Actualizar Producto">
    </form>
        <li class="card edit">           
            <div class="img-div"> 
               <img class="img-card" src='/img{{product.thumbnail}}'/>
            </div>
            <h3 class="title-card">{{product.title}}</h5> 
            <p class="description-card">Description:{{product.description}}   </p>
            <p class="description-card">code:{{product.code}}   </p>
            <p class="description-card">stock:{{product.stock}}   </p>
            <p class="description-card">category:{{product.category}}   </p>
            <p class="price-card">Price:<b>$</b> {{product.price}} </p>
         </li>
 </section>
<script>
        document.getElementById('updateProductForm').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const id = document.getElementById('productId').value; // Reemplaza con el ID del producto que deseas actualizar
            const formData = new FormData(this);
            
            fetch(`/api/products/${id}`, {
                method: 'PUT',
                body: formData,
            })
            .then(response => {
                if (response.ok) {
                    // Procesa la respuesta exitosa aquí
                    console.log('Producto actualizado con éxito');
                          location.reload();

                } else {
                    // Procesa la respuesta en caso de error
                    console.error('Hubo un error al actualizar el producto');
                }
            })
            .catch(error => {
                console.error('Error en la solicitud:', error);
            });
        });
    </script>